<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PeerWire - P2P Video Chat</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <script src="assets/js/mqtt.min.js"></script>
</head>
<body>
    <div id="app">
        <div id="video-container">
            <video id="remote-video" autoplay playsinline></video>
            <video id="local-video" autoplay playsinline muted></video>
        </div>

        <div id="ui-overlay">
            <div id="status-bar">
                <span id="status-indicator" class="disconnected"></span>
                <span id="status-text">Disconnected</span>
                <span id="room-id"></span>
            </div>

            <div id="controls">
                <button id="toggle-mic" class="active" title="Toggle Microphone">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor" d="M12,14c1.66,0,3-1.34,3-3V5c0-1.66-1.34-3-3-3S9,3.34,9,5v6C9,12.66,10.34,14,12,14z"/>
                        <path fill="currentColor" d="M17,11c0,2.76-2.24,5-5,5s-5-2.24-5-5H5c0,3.53,2.61,6.43,6,6.92V21h2v-3.08c3.39-0.49,6-3.39,6-6.92H17z"/>
                    </svg>
                </button>
                <button id="toggle-cam" class="active" title="Toggle Camera">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor" d="M17,10.5V7c0-0.55-0.45-1-1-1H4C3.45,6,3,6.45,3,7v10c0,0.55,0.45,1,1,1h12c0.55,0,1-0.45,1-1v-3.5l4,4v-11L17,10.5z"/>
                    </svg>
                </button>
                <button id="copy-link" title="Copy Room Link">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor" d="M16,1H4C2.9,1,2,1.9,2,3v14h2V3h12V1z M19,5H8C6.9,5,6,5.9,6,7v14c0,1.1,0.9,2,2,2h11c1.1,0,2-0.9,2-2V7C21,5.9,20.1,5,19,5z M19,21H8V7h11V21z"/>
                    </svg>
                </button>
                <button id="hangup" title="Hang Up">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor" d="M12,9c-1.6,0-3.15,0.25-4.6,0.72v3.1c0,0.39,0.23,0.74,0.56,0.9c0.98,0.49,2.04,0.74,3.15,0.74s2.17-0.25,3.15-0.74 c0.33-0.16,0.56-0.51,0.56-0.9v-3.1C15.15,9.25,13.6,9,12,9z"/>
                        <path fill="currentColor" d="M21,16.5c0-0.55-0.45-1-1-1c-1.25,0-2.45-0.2-3.57-0.57c-0.1-0.03-0.21-0.05-0.31-0.05c-0.26,0-0.51,0.1-0.71,0.29 l-2.2,2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c0.28-0.26,0.36-0.65,0.25-1C8.7,6.45,8.5,5.25,8.5,4c0-0.55-0.45-1-1-1H4 c-0.55,0-1,0.45-1,1c0,9.39,7.61,17,17,17c0.55,0,1-0.45,1-1V16.5z"/>
                    </svg>
                </button>
            </div>
        </div>

        <div id="landing-overlay" class="hidden">
            <div class="modal">
                <h1>PeerWire</h1>
                <p>Simple, private, peer-to-peer video calls.</p>
                <button id="create-room">Create Random Room</button>
                <p class="small">Or append #room-name to the URL</p>
            </div>
        </div>
    </div>
    <script src="assets/js/app.js"></script>
</body>
</html>
